\usepackage{geometry}
\geometry{
	a4paper,
	margin=1in,
	headheight=14.5pt,
	headsep=12pt,
	footskip=25pt,
	includehead,
	includefoot
}

\usepackage{fontspec}
\usepackage{xeCJK}
% \usepackage[english]{babel}

\setCJKmainfont{Source Han Serif SC}[
	BoldFont = Source Han Serif SC,
	ItalicFont = LXGW WenKai,
	SlantedFont = LXGW WenKai
]
\setCJKsansfont{Source Han Sans SC}
\setCJKmonofont{WenQuanYi Zen Hei Mono}

\usepackage{url}
\usepackage{graphicx}
\usepackage{float}
\usepackage{booktabs}
\usepackage{enumitem}

\usepackage{parskip}
\usepackage{emptypage}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage{xcolor}

\usepackage{mismath, amsmath, amsthm}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{cancel}
\usepackage{bm}
\usepackage{systeme}

\let\svlim\lim\def\lim{\svlim\limits}
\let\implies\Rightarrow
\let\impliedby\Leftarrow
\let\iff\Leftrightarrow
\let\epsilon\varepsilon

\usepackage{stmaryrd}
\newcommand\contra{\scalebox{1.5}{$\lightning$}}

\definecolor{correct}{HTML}{009900}
\newcommand\correct[2]{\ensuremath{\:}{\color{red}{#1}}\ensuremath{\to }{\color{correct}{#2}}\ensuremath{\:}}
\newcommand\green[1]{{\color{correct}{#1}}}

\newcommand\hr{
	\noindent\rule[0.5ex]{\linewidth}{0.5pt}
}
\newcommand\hide[1]{}
\usepackage{siunitx}
\sisetup{locale = US}

\usepackage{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em}
\theoremstyle{definition}

\newmdtheoremenv[nobreak=true]{definition}{Definition}
\newmdtheoremenv[nobreak=true]{property}{Property}
\newmdtheoremenv[nobreak=true]{corollary}{Corollary}
\newmdtheoremenv[nobreak=true]{lemma}{Lemma}
\newmdtheoremenv[nobreak=true]{prop}{Proposition}
\newmdtheoremenv[nobreak=true]{theorem}{Theorem}
\newmdtheoremenv[nobreak=true]{law}{Law}
\newmdtheoremenv[nobreak=true]{axiom}{Axiom}
\newmdtheoremenv{conclusion}{Conclusion}
\newmdtheoremenv{addendum}{Addendum}
\newmdtheoremenv{conjecture}{Conjecture}

\newtheorem*{review}{Review}
\newtheorem*{intermezzo}{Intermezzo}
\newtheorem*{notation}{Notation}
\newtheorem*{observation}{Observation}
\newtheorem*{exercise}{Exercise}
\newtheorem*{remark}{Remark}
\newtheorem*{practical}{Practical}
\newtheorem*{problem}{Problem}
\newtheorem*{terminology}{Terminology}
\newtheorem*{application}{Application}
\newtheorem*{uovt}{Existence and Uniqueness}
\newtheorem*{eg}{Example}
\newtheorem*{question}{Question}
\newtheorem*{note}{Note}
\newtheorem*{previouslyseen}{As previously seen}
\newtheorem*{observe}{Observe}
\newtheorem*{intuition}{Intuition}

\usepackage{etoolbox}
\AtEndEnvironment{eg}{\null\hfill$\square$}
\AtEndEnvironment{intermezzo}{\null\hfill$\square$}
\AtEndEnvironment{remark}{\null\hfill$\diamond$}

\makeatletter
\def\thm@space@setup{%
	\thm@preskip=\parskip \thm@postskip=0pt
}
\makeatother

\newcommand{\thexercise}[1]{%
	\def\@exnumber{#1}%
	\subsection*{Exercise #1}
}

\newcommand{\subexercise}[1]{%
	\subsubsection*{Exercise \@exnumber.#1}
}

\usepackage{xifthen}
\def\testdateparts#1{\dateparts#1\relax}
\def\dateparts#1 #2 #3 #4 #5\relax{
	\marginpar{\small\textsf{\mbox{#1 #2 #3 #5}}}
}

\def\@lecture{}
\newcommand{\lecture}[3]{
	\ifthenelse{\isempty{#3}}{
		\def\@lecture{Lecture #1}
	}{
		\def\@lecture{Lecture #1: #3}
	}
	\subsection*{\@lecture}
	\marginpar{\small\textsf{\mbox{#2}}}
}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\leftmark}
\fancyfoot[R]{\thepage}

% % \fancyhead[RO,LE]{\@lecture}
% \fancyhead[RE,LO]{}
% \fancyfoot[RO,LE]{\thepage}
% \fancyfoot[RE,LO]{}
% \fancyfoot[C]{\leftmark}

\usepackage{todonotes}
\usepackage{tcolorbox}
\tcbuselibrary{breakable}

\newenvironment{correction}{\begin{tcolorbox}[
			arc=0mm,
			colback=white,
			colframe=green!60!black,
			title=Correction,
			fonttitle=\sffamily,
			breakable
		]}{\end{tcolorbox}}

\newenvironment{notebox}[1]{\begin{tcolorbox}[
			arc=0mm,
			colback=white,
			colframe=gray!60!black,
			title=#1,
			fonttitle=\sffamily,
			breakable
		]}{\end{tcolorbox}}

\usepackage{import}
\usepackage{pdfpages}
\newcommand{\incfig}[1]{%
	\def\svgwidth{\columnwidth}
	\import{./figures/}{#1.pdf_tex}
}

\author{hoshF}
